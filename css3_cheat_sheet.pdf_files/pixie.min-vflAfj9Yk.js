define(["require","exports","jquery","external/sjcl"],function(require,exports,t,r){"use strict";function n(t){return t.replace(/[^ -~]+/g,"~")}function e(t){var n=r.hash.sha256.hash(t);return r.codec.hex.fromBits(n).substr(0,32)}function u(t,r,e){e===!0&&(t=n(t));for(var u,i=[],s=0,h="",o=0;o<256;o++)i[o]=o;for(o=0;o<256;o++)s=(s+i[o]+r.charCodeAt(o%r.length))%256,u=i[o],i[o]=i[s],i[s]=u;o=0,s=0;for(var c=0;c<t.length;c++)o=(o+1)%256,s=(s+i[o])%256,u=i[o],i[o]=i[s],i[s]=u,h+=String.fromCharCode(t.charCodeAt(c)^i[(i[o]+i[s])%256]);return h}var i=function(){function t(t,r){this.a=t,this.b=r}return t.c=function(t,r,n,e){var i=e.slice(t,t+r);return u(i,n,!1)},t.d=function(t,r,n){var e=r.indexOf(n,t+n.length);return e},t.e=function(r,n,e){var u=r.substr(n,e.length);return t.f(u,e)},t.f=function(t,r){return!(t.length<r.length)&&t.slice(0,r.length)===r},t.g=function(t,r){return 2*r.length+t},t.h=function(r,n,e){var u=0,i=r.substr(u,t.g(5,n)),s=t.d(0,i,n),h=n.length,o=parseInt(i.substr(h,s));u=s+h;for(var c=e,l=[],a=0;a<o;a++){i=t.c(u,t.g(15,n),c,r);var f=t.d(0,i,n),p=parseInt(i.slice(h,f)),g=f+h+p,v=t.c(u,g,c,r),d=t.d(f,v,n),b=v.slice(f+h,d),C=t.d(d,v,n),j=v.slice(d+h,C),m=new t(a,j);l.push(m),c=b,u+=g}return l},t}(),s=function(){function r(t){this.i=t.SEP,this.j=t.TPC,this.k=atob(t.BIN),this.l=t.CSP_NONCE}return r.prototype.run_specter=function(){return this.run(this.j,u,t,e)},r.prototype.get_specter=function(){return null==r.m&&(r.m=this.run_specter().specter),r.m},r.prototype.run=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=null,e=i.h(this.k,this.i,this.j),u=[],s=0;s<e.length;s++){var h=e[s];0!=h.a?u.push(h.b):n=h.b}var o=null;if(n==this.l){var c=eval(u.join(""));o=c.apply(this,arguments)}return u=null,o},r}();s.m=null,exports.Pixie=s});
