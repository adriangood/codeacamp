(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};define("modules/clean/comments/comment_dom",["external/react","modules/clean/referrer_cleansing_redirect"],function(t,n){var r,o,i;return r="â€¦",o=function(r,o,s){var u,l,c,a,p,f,h,d,_,m,g,v,y,b,w,x,j,R;for(null==o&&(o=!0),null==s&&(s=null),l=t.DOM,h=/@\[(?:\s*(?:dbid:)?[^:\[\]]+):(?:[^\[]+)\]/i,f=/@\[(\s*(?:dbid:)?[^:\[\]]+):([^\[]+)\]/i,R="(?:[-a-zA-Z0-9@:%_+~#=]+[.])+[a-z]{2,6}(?:[:./?#][-a-zA-Z0-9@%_+~&=]+)*(?=[^a-zA-Z0-9_]|$)",x="http://"+R+"|https://"+R+"|www."+R+"|"+R,j=new RegExp(x,"i"),p=/\n/,v=[h,p],o&&v.push(j),y=RegExp("("+(function(){var e,t,n;for(n=[],e=0,t=v.length;e<t;e++)m=v[e],n.push(m.source);return n})().join("|")+")","gi"),_=[],g=r.split(y),c=0,a=g.length;c<a;c++)if(u=g[c])if(u.match(h))b=u.match(f),d=b[2].trim(),_.push(l.span({className:"comment-mention"},d));else if(e.call(v,j)>=0&&u.match(j)){w=u,w.indexOf("http://")<0&&w.indexOf("https://")<0&&(w="http://"+w);try{w=n.get_redirect_uri(w),_.push(l.a({href:w,target:"_blank",rel:"noopener noreferrer"},u))}catch(e){e,_.push(u)}}else u.match(p)?_.push(l.br({})):_.push(u);return i(_,s)},i=function(e,t){var n,o,i,s,u,l,c,a,p;if(null==t&&(t=null),!t)return e;if(n=0,p=[],t<=0)return e.length>0?r:e;for(o=0,s=e.length;o<s;o++)if(a=e[o],"object"==typeof a){if(null!=(null!=(u=a.props)?u.children:void 0)&&(n+=null!=(l=a.props)&&null!=(c=l.children)?c.length:void 0),p.push(a),n>=t)return p.push(r),p}else{if(n+a.length>=t)return i=t-n,p.push(a.substring(0,i)),p.push(r),p;n+=a.length,p.push(a)}return e},{convertRawCommentTextToReactDom:o}})}).call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;define("modules/clean/deprecated/dbmodal_loading",["modules/clean/dbmodal","modules/clean/deprecated/uirequest"],function(t,n){return(function(t){function r(e){r.__super__.constructor.call(this,e)}return e(r,t),r.prototype.on_show=function(){return this.fetch()},r.prototype.fetch=function(){return new n(this.$modal_window,this.options.endpoint_url,{data:this.options.parameters||{},subject_user:this.options.subject_user,html_in_error_msg:this.options.html_in_error_msg,error:(function(e){return function(t,n,r){return e.hide()}})(this)})},r.prototype.on_confirm_button_click=null,r.prototype.on_cancel_button_click=null,r})(t.DBModal)})}.call(this),define("modules/clean/fileops",["require","exports","tslib","jquery","modules/clean/ajax","modules/core/i18n","modules/core/notify","modules/core/uri"],function(e,t,n,r,o,i,s,u){"use strict";function l(e,t){var n=r.Deferred(),u=i.ungettext("Deleted %(file_count)s item.","Deleted %(file_count)s items.",t.length).format({file_count:t.length});return s.success(u),o.WebRequest({url:"/cmd/delete",data:{files:t},subject_user:e,success:function(e){n.resolve(e)},error:function(e){s.error(i._("Failed to perform the delete. Please try again later.")),n.reject(e)}}),n.promise()}function c(e,t,r){return void 0===r&&(r={}),r=n.__assign((o={},o._subject_uid=String(t),o),r),new u({path:"/history"+e,query:r});var o}Object.defineProperty(t,"__esModule",{value:!0}),t.do_nonbrowse_delete=l,t.build_revisions_uri=c}),function(){define("modules/clean/page_role_observer",["modules/core/exception"],function(e){var assert;return assert=e.assert,new((function(){function e(){this._listeners=[]}return e.prototype.addListener=function(e){return assert("function"==typeof e,"PageRoleState.addListener expects a function, got: "+typeof e),this._listeners.push(e)},e.prototype.removeListener=function(e){var t;return assert("function"==typeof e,"PageRoleState.removeListener expects a function, got: "+typeof e),this._listeners=function(){var n,r,o,i;for(o=this._listeners,i=[],n=0,r=o.length;n<r;n++)t=o[n],t!==e&&i.push(t);return i}.call(this)},e.prototype.removeAllListeners=function(){return this._listeners=[]},e.prototype.emit=function(e){var t,n,r,o,i;for(o=this._listeners.slice(),i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push(t(e));return i},e})())})}.call(this);
//# sourceMappingURL=pkg-recents-and-recents-deprecated.min.js-vflFehcYq.map